{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

{% with messages = get_flashed_messages() %}
{% if messages %}
<header class="alert alert-primary border text-center" role="alert">
  {{ message }}
</header>
{% endif %}
{% endwith %}

{% block main %}
           <div class="section">

                <table>
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Name</th>
                            <th>Shares</th>
                            <th>Price</th>
                            <th>Total</th>

                        </tr>
                    </thead>
                    <tbody>
                        <!-- TODO: Loop through the database entries to display them in this table -->
                          {% for row in rows %}
                            <tr>
                                <td>{{row.symbol}}</td>
                                <td>{{row.company_name}}</td>
                                <td>{{row.shares}}</td>
                                <td>{{"$%.2f"|format(row.price|float)}}</td>
                                <td>{{"$%.2f"|format(row.shares * row.price|float)}}</td>
                            </tr>

                          {% endfor %}
                          <tr>
                              <td>CASH</td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td>{{cash}}</td>
                          </tr>
                          <tr>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td></td>
                              <td><b>{{ total}}</b></td>
                          </tr>
                    </tbody>
                </table>
            </div>
{% endblock %}